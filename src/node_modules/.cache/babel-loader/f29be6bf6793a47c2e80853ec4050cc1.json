{"ast":null,"code":"var _jsxFileName = \"/src/react-maintain/src/components/MaintainList.js\";\nimport React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Maintain from './Maintain';\nimport axios from 'axios';\nimport MaintainDialog from './MaintainDialog';\nimport Button from '@material-ui/core/Button';\n\nclass MaintainList extends Component {\n  constructor() {\n    super();\n    this.state = {\n      maintains: [],\n      searchFor: '',\n      openMaintainModal: false\n    };\n    this.getMaintains();\n  }\n\n  getMaintain(id) {\n    let query = \"query{\\n          maintain(id:1) {\\n            name,\\n            todos {\\n              id,\\n              name,\\n              parts{\\n                id,\\n                name\\n              }\\n            }\\n          }\\n        }\";\n    axios({\n      url: 'http://localhost:5000/graphql',\n      method: 'post',\n      data: {\n        query: query\n      }\n    })\n    /*\n    axios.post(\"http://localhost:5000/graphql\", { withCredentials: true,\n                                                  crossdomain: true,\n                                                  rejectUnauthorized: false,\n         })\n    */\n    .then(response => {\n      console.log(\"get maintain response: \" + JSON.stringify(response));\n      console.log(\"response header: \" + JSON.stringify(response.headers));\n      this.setState({\n        maintains: response.data\n      }); // User logged in?\n\n      if (this.state.maintains.status) {\n        console.log(\"user status is : \" + this.state.maintains.status);\n        throw new Error(\"User not logged in\");\n      }\n\n      console.log(\"MAINTAINS--- \" + JSON.stringify(this.state.maintains));\n    }).catch(err => {\n      console.log(\"err maintain response: \" + JSON.stringify(err));\n    });\n  }\n\n  getMaintains() {\n    console.log(\"IN GET MAINTAINS\");\n    axios.post(\"http://localhost:5000/user/login\", {\n      username: 'mclark',\n      password: 'password'\n    }, {\n      rejectUnauthorized: false,\n      withCredentials: true,\n      crossdomain: false\n    }).then(response => {\n      console.log(\"response: \" + JSON.stringify(response));\n      return response;\n    })\n    /*\n            axios.post(\"https://casualcoder.net:5000/user/login\", {\n                username: 'mclark',\n                password: 'password'\n            },\n            {\n                rejectUnauthorized: false,\n                withCredentials: false,\n                crossdomain: false\n            })\n            .then( (response) => {\n                console.log(\"response: \" + JSON.stringify(response));\n                console.log(\"id: \" + response.session_id);\n                console.log(\"cookie: \" + document.cookie);\n                return(response)\n            })\n    */\n    .then(response2 => {\n      /*\n                 axios.get(\"https://casualcoder.net:5000/maintain\", {withCredentials: true,\n                                                                      crossdomain: true,\n                                                                      rejectUnauthorized: false,\n      \n                     })\n      */\n      axios.get(\"http://localhost:5000/maintain\", {\n        withCredentials: true,\n        crossdomain: true,\n        rejectUnauthorized: false\n      }).then(response => {\n        console.log(\"get maintain response: \" + JSON.stringify(response));\n        console.log(\"response header: \" + JSON.stringify(response.headers));\n        this.setState({\n          maintains: response.data\n        }); // User logged in?\n\n        if (this.state.maintains.status) {\n          console.log(\"user status is : \" + this.state.maintains.status);\n          throw new Error(\"User not logged in\");\n        }\n\n        console.log(\"MAINTAINS--- \" + JSON.stringify(this.state.maintains));\n      }).catch(err => {\n        console.log(\"err maintain response: \" + JSON.stringify(err));\n      });\n    }).catch(err => {\n      console.log(\"error!: \" + JSON.stringify(err));\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, this.state.maintains.length ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      style: {\n        padding: 24\n      },\n      id: \"searchInput\",\n      placeholder: \"Maintenance\",\n      margin: \"normal\",\n      onChange: this.onSearchInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      container: true,\n      spacing: 24,\n      style: {\n        padding: 24\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, this.state.maintains.map(currentMaintain => React.createElement(Grid, {\n      item: true,\n      key: currentMaintain.id,\n      xs: 12,\n      sm: 6,\n      lg: 4,\n      xl: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Maintain, {\n      maintain: currentMaintain,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }))))) : \"nothing to maintain\", React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: this.handleClickOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Open simple dialog\"), React.createElement(MaintainDialog, {\n      selectedValue: this.state.selectedValue,\n      open: this.state.open,\n      onClose: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default MaintainList;","map":{"version":3,"sources":["/src/react-maintain/src/components/MaintainList.js"],"names":["React","Component","Grid","TextField","Maintain","axios","MaintainDialog","Button","MaintainList","constructor","state","maintains","searchFor","openMaintainModal","getMaintains","getMaintain","id","query","url","method","data","then","response","console","log","JSON","stringify","headers","setState","status","Error","catch","err","post","username","password","rejectUnauthorized","withCredentials","crossdomain","response2","get","render","length","padding","onSearchInputChange","map","currentMaintain","handleClickOpen","selectedValue","open","handleClose"],"mappings":"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","sourcesContent":["import  React, {Component } from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Maintain from './Maintain'\nimport axios from 'axios'\nimport MaintainDialog from './MaintainDialog'\nimport Button from '@material-ui/core/Button'\n\nclass MaintainList extends Component {\n    state = {\n        maintains: [],\n        searchFor: '',\n        openMaintainModal: false\n    }\n\n    constructor() {\n        super();\n        this.getMaintains();\n    }\n\n    getMaintain(id) {\n        let query = `query{\n          maintain(id:1) {\n            name,\n            todos {\n              id,\n              name,\n              parts{\n                id,\n                name\n              }\n            }\n          }\n        }`;\n\n        axios({\n            url: 'http://localhost:5000/graphql',\n            method: 'post',\n            data: {\n                query: query\n            }\n        })\n        /*\n        axios.post(\"http://localhost:5000/graphql\", { withCredentials: true,\n                                                      crossdomain: true,\n                                                      rejectUnauthorized: false,\n\n            })\n        */\n                .then( (response) => {\n                    console.log(\"get maintain response: \" + JSON.stringify(response));\n                    console.log(\"response header: \" + JSON.stringify(response.headers));\n                    this.setState({maintains: response.data});\n\n                    // User logged in?\n                    if (this.state.maintains.status) {\n                        console.log(\"user status is : \" + this.state.maintains.status);\n                        throw( new Error(\"User not logged in\"));\n                    }\n\n                    console.log(\"MAINTAINS--- \" + JSON.stringify(this.state.maintains));\n                })\n                .catch( (err) => {\n                    console.log(\"err maintain response: \" + JSON.stringify(err));\n                })\n        }\n\n    getMaintains() {\n        console.log(\"IN GET MAINTAINS\")\n\n        axios.post(\"http://localhost:5000/user/login\", {\n                username: 'mclark',\n                password: 'password'\n                },\n                {\n                rejectUnauthorized: false,\n                withCredentials: true,\n                crossdomain: false\n                })\n                .then( (response) => {\n                console.log(\"response: \" + JSON.stringify(response));\n                return(response)\n                })\n/*\n        axios.post(\"https://casualcoder.net:5000/user/login\", {\n            username: 'mclark',\n            password: 'password'\n        },\n        {\n            rejectUnauthorized: false,\n            withCredentials: false,\n            crossdomain: false\n        })\n        .then( (response) => {\n            console.log(\"response: \" + JSON.stringify(response));\n            console.log(\"id: \" + response.session_id);\n            console.log(\"cookie: \" + document.cookie);\n            return(response)\n        })\n*/\n        .then( (response2) => {\n\n/*\n           axios.get(\"https://casualcoder.net:5000/maintain\", {withCredentials: true,\n                                                                crossdomain: true,\n                                                                rejectUnauthorized: false,\n\n               })\n*/\n\n    axios.get(\"http://localhost:5000/maintain\", {withCredentials: true,\n                                                     crossdomain: true,\n                                                     rejectUnauthorized: false,\n\n        })\n\n                .then( (response) => {\n                    console.log(\"get maintain response: \" + JSON.stringify(response));\n                    console.log(\"response header: \" + JSON.stringify(response.headers));\n                    this.setState({maintains: response.data});\n\n                    // User logged in?\n                    if (this.state.maintains.status) {\n                        console.log(\"user status is : \" + this.state.maintains.status);\n                        throw( new Error(\"User not logged in\"));\n                    }\n\n                    console.log(\"MAINTAINS--- \" + JSON.stringify(this.state.maintains));\n                })\n                .catch( (err) => {\n                    console.log(\"err maintain response: \" + JSON.stringify(err));\n                })\n            })\n        .catch( (err) => {\n            console.log(\"error!: \" + JSON.stringify(err));\n        })\n\n    }\n\n    render() {\n            return (\n                <div>\n                    {\n                        this.state.maintains.length ?\n                        (\n                            <div>\n                            <TextField style={{padding: 24}}\n                                id=\"searchInput\"\n                                placeholder=\"Maintenance\"\n                                margin=\"normal\"\n                                onChange={this.onSearchInputChange}\n                                />\n                            <Grid container spacing={24} style={{padding: 24}}>\n                                { this.state.maintains.map(currentMaintain => (\n                                    <Grid item key={currentMaintain.id} xs={12} sm={6} lg={4} xl={3}>\n                                        <Maintain maintain={currentMaintain} />\n                                    </Grid>\n                                ))}\n                            </Grid>\n                            </div>\n                        )\n                        :\n                        \"nothing to maintain\"\n                    }\n\n                    <Button variant=\"outlined\" color=\"primary\" onClick={this.handleClickOpen}>\n                      Open simple dialog\n                    </Button>\n\n                    <MaintainDialog\n                      selectedValue={this.state.selectedValue}\n                      open={this.state.open}\n                      onClose={this.handleClose}\n                    />\n\n                </div>\n            )\n        }\n\n}\n\nexport default MaintainList;\n"]},"metadata":{},"sourceType":"module"}